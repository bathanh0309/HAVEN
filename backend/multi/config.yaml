# ============================================================
# HAVEN Multi-Camera Configuration
# ============================================================
# Unified config cho h thng multi-camera vi:
# - Pose detection + ADL classification
# - Cross-camera ReID (Color Histogram)
# - Master-Slave ID assignment
# ============================================================

# ============================================================
# CAMERAS - MI VIDEO L 1 CAMERA ENTRY
# Th t x l: phu1 -> phu2 -> unk1 -> phu3 -> unk2 -> phu4 -> phu5 -> unk3
# ============================================================
cameras:
  # --- CAM1---
  - id: "cam1"
    name: "Camera 1 - Phu 1"
    enabled: true
    source_type: "video"
    video_path: "D:/HAVEN/backend/data/multi-camera/cam1/phu1.mp4"
    rtsp_url: ""
    rtsp_username: ""
    rtsp_password: ""
    
  # --- CAM2---
  - id: "cam2"
    name: "Camera 2 - Phu 2"
    enabled: true
    source_type: "video"
    video_path: "D:/HAVEN/backend/data/multi-camera/cam2/phu2.mp4"
    rtsp_url: ""
    rtsp_username: ""
    rtsp_password: ""
    
  # --- CAM2---
  - id: "cam2"
    name: "Camera 2 - Unknown 1"
    enabled: true
    source_type: "video"
    video_path: "D:/HAVEN/backend/data/multi-camera/cam2/unk1.mp4"
    rtsp_url: ""
    rtsp_username: ""
    rtsp_password: ""
    
  # --- CAM3 ---
  - id: "cam3"
    name: "Camera 3 - Phu 3"
    enabled: true
    source_type: "video"
    video_path: "D:/HAVEN/backend/data/multi-camera/cam3/phu3.mp4"
    rtsp_url: ""
    rtsp_username: ""
    rtsp_password: ""
    
  # --- CAM3 ---
  - id: "cam3"
    name: "Camera 3 - Unknown 2"
    enabled: true
    source_type: "video"
    video_path: "D:/HAVEN/backend/data/multi-camera/cam3/unk2.mp4"
    rtsp_url: ""
    rtsp_username: ""
    rtsp_password: ""
    
  # --- CAM4---
  - id: "cam4"
    name: "Camera 4 - Phu 4"
    enabled: true
    source_type: "video"
    video_path: "D:/HAVEN/backend/data/multi-camera/cam4/phu4.mp4"
    rtsp_url: ""
    rtsp_username: ""
    rtsp_password: ""
  
  # --- CAM4---
  - id: "cam4"
    name: "Camera 4 - Phu 5"
    enabled: true
    source_type: "video"
    video_path: "D:/HAVEN/backend/data/multi-camera/cam4/phu5.mp4"
    rtsp_url: ""
    rtsp_username: ""
    rtsp_password: ""
    
  # --- CAM4---
  - id: "cam4"
    name: "Camera 4 - Unknown 3"
    enabled: true
    source_type: "video"
    video_path: "D:/HAVEN/backend/data/multi-camera/cam4/unk3.mp4"
    rtsp_url: ""
    rtsp_username: ""
    rtsp_password: ""

# ============================================================
# YOLO MODEL
# ============================================================
yolo:
  model: "yolo11n-pose.pt"
  conf_threshold: 0.4
  iou_threshold: 0.45
  device: "cuda"
  img_size: 640

# ============================================================
# ReID (Re-Identification)
# ============================================================
reid:
  # Matching threshold (0.0 - 1.0)
  # Lower = match easier, Higher = stricter
  # 0.5 = BALANCED - Good for demo with varying angles/lighting
  threshold: 0.5
  
  update_interval: 2 # 2 frame lưu đặc trưng 1 lần
  
  max_features: 100 # số lượng đặc trưng lưu

# ============================================================
# ADL - Simplified: WALKING / FALL_DOWN only
# ============================================================
adl:
  movement_threshold_ratio: 0.02
  torso_angle_laying: 25
  aspect_ratio_laying: 0.7
  posture_voting_frames: 2
  keypoint_conf: 0.2

# ============================================================
# DISPLAY
# ============================================================
display:
  width: 1280
  height: 720
  window_name: "HAVEN Sequential"

# ============================================================
# OUTPUT
# ============================================================
output:
  database_enabled: true
  database_path: "D:/HAVEN/backend/database/haven_reid.db"
  log_enabled: true
  log_level: "INFO"

